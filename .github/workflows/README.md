# GitHub Actions å·¥ä½œæµè¯´æ˜

æœ¬é¡¹ç›®åŒ…å«ä»¥ä¸‹è‡ªåŠ¨åŒ–å·¥ä½œæµï¼š

## ğŸ§ª æµ‹è¯•å·¥ä½œæµ (test.yml)

**è§¦å‘æ¡ä»¶:**
- æ¨é€åˆ° `main` æˆ– `dev` åˆ†æ”¯
- åˆ›å»ºé’ˆå¯¹ `main` æˆ– `dev` åˆ†æ”¯çš„ Pull Request
- æ‰‹åŠ¨è§¦å‘

**åŠŸèƒ½:**
- åœ¨å¤šä¸ª Python ç‰ˆæœ¬ (3.9-3.12) ä¸Šè¿è¡Œæµ‹è¯•
- ä»£ç é£æ ¼æ£€æŸ¥ (flake8, black, isort)
- ç±»å‹æ£€æŸ¥ (mypy)
- å•å…ƒæµ‹è¯• (pytest)
- ä»£ç è¦†ç›–ç‡ä¸Šä¼ åˆ° Codecov

## ğŸš€ å‘å¸ƒåˆ° Test PyPI (publish-test-pypi.yml)

**è§¦å‘æ¡ä»¶:**
- æ¨é€ä»¥ä¸‹æ ¼å¼çš„æ ‡ç­¾:
  - `v*-dev` (å¦‚: `v0.4.6-dev`)
  - `v*-alpha` (å¦‚: `v0.4.6-alpha`)
  - `v*-beta` (å¦‚: `v0.4.6-beta`)
  - `v*-rc*` (å¦‚: `v0.4.6-rc1`)
- æ‰‹åŠ¨è§¦å‘

**åŠŸèƒ½:**
- è‡ªåŠ¨æ„å»º Python åŒ…
- å‘å¸ƒåˆ° Test PyPI
- åˆ›å»º GitHub é¢„å‘å¸ƒç‰ˆæœ¬
- ä¸Šä¼ æ„å»ºäº§ç‰©

**ä½¿ç”¨ç¤ºä¾‹:**
```bash
# åˆ›å»ºå¼€å‘ç‰ˆæœ¬æ ‡ç­¾
git tag v0.4.6-dev
git push origin v0.4.6-dev
```

## ğŸ“¦ å‘å¸ƒåˆ°æ­£å¼ PyPI (publish-pypi.yml)

**è§¦å‘æ¡ä»¶:**
- æ¨é€æ­£å¼ç‰ˆæœ¬æ ‡ç­¾æ ¼å¼: `v[æ•°å­—].[æ•°å­—].[æ•°å­—]` (å¦‚: `v0.4.6`)
- æ‰‹åŠ¨è§¦å‘

**åŠŸèƒ½:**
- è‡ªåŠ¨æ„å»º Python åŒ…
- å‘å¸ƒåˆ°æ­£å¼ PyPI
- åˆ›å»º GitHub æ­£å¼å‘å¸ƒç‰ˆæœ¬
- ä¸Šä¼ æ„å»ºäº§ç‰©

**ä½¿ç”¨ç¤ºä¾‹:**
```bash
# åˆ›å»ºæ­£å¼ç‰ˆæœ¬æ ‡ç­¾
git tag v0.4.6
git push origin v0.4.6
```

## ğŸ“‹ æ‰€éœ€çš„ GitHub Secrets

åœ¨ GitHub ä»“åº“è®¾ç½®ä¸­éœ€è¦é…ç½®ä»¥ä¸‹ Secretsï¼š

### Test PyPI å‘å¸ƒ (å¿…éœ€)
- `TEST_PYPI_API_TOKEN`: Test PyPI çš„ API Token
  1. è®¿é—® https://test.pypi.org/manage/account/token/
  2. åˆ›å»ºæ–°çš„ API Token
  3. å¤åˆ¶ token å¹¶æ·»åŠ åˆ° GitHub Secrets

### æ­£å¼ PyPI å‘å¸ƒ (å¿…éœ€)
- `PYPI_API_TOKEN`: æ­£å¼ PyPI çš„ API Token
  1. è®¿é—® https://pypi.org/manage/account/token/
  2. åˆ›å»ºæ–°çš„ API Token
  3. å¤åˆ¶ token å¹¶æ·»åŠ åˆ° GitHub Secrets

### è‡ªåŠ¨åˆ›å»º (æ— éœ€æ‰‹åŠ¨é…ç½®)
- `GITHUB_TOKEN`: GitHub è‡ªåŠ¨æä¾›ï¼Œç”¨äºåˆ›å»º Release

## ğŸ·ï¸ ç‰ˆæœ¬æ ‡ç­¾å‘½åè§„èŒƒ

### å¼€å‘ç‰ˆæœ¬ (å‘å¸ƒåˆ° Test PyPI)
- `v0.4.6-dev`: å¼€å‘ç‰ˆæœ¬
- `v0.4.6-alpha`: Alpha ç‰ˆæœ¬
- `v0.4.6-beta`: Beta ç‰ˆæœ¬
- `v0.4.6-rc1`: Release Candidate ç‰ˆæœ¬

### æ­£å¼ç‰ˆæœ¬ (å‘å¸ƒåˆ° PyPI)
- `v0.4.6`: æ­£å¼ç‰ˆæœ¬
- `v1.0.0`: ä¸»è¦ç‰ˆæœ¬

## ğŸ“ å‘å¸ƒæµç¨‹

### å¼€å‘ç‰ˆæœ¬å‘å¸ƒ
1. åœ¨ `dev` åˆ†æ”¯ä¸Šå®Œæˆå¼€å‘
2. åˆ›å»ºå¼€å‘ç‰ˆæœ¬æ ‡ç­¾: `git tag v0.4.6-dev`
3. æ¨é€æ ‡ç­¾: `git push origin v0.4.6-dev`
4. GitHub Actions è‡ªåŠ¨å‘å¸ƒåˆ° Test PyPI

### æ­£å¼ç‰ˆæœ¬å‘å¸ƒ
1. å°† `dev` åˆ†æ”¯åˆå¹¶åˆ° `main`
2. åœ¨ `main` åˆ†æ”¯åˆ›å»ºæ­£å¼æ ‡ç­¾: `git tag v0.4.6`
3. æ¨é€æ ‡ç­¾: `git push origin v0.4.6`
4. GitHub Actions è‡ªåŠ¨å‘å¸ƒåˆ°æ­£å¼ PyPI

## ğŸ” ç›‘æ§å’Œè°ƒè¯•

- åœ¨ GitHub ä»“åº“çš„ "Actions" æ ‡ç­¾é¡µå¯ä»¥æŸ¥çœ‹æ‰€æœ‰å·¥ä½œæµè¿è¡ŒçŠ¶æ€
- ç‚¹å‡»å…·ä½“çš„å·¥ä½œæµè¿è¡Œå¯ä»¥æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
- å¤±è´¥çš„å·¥ä½œæµä¼šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯å’Œå †æ ˆè·Ÿè¸ª